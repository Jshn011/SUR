-- Load Rayfield Library
local Rayfield = loadstring(game:HttpGet('https://raw.githubusercontent.com/shlexware/Rayfield/main/source'))()

-- Create the Window
local Window = Rayfield:CreateWindow({
   Name = "Dungeon Lair Hub",
   LoadingTitle = "by YourName",
   LoadingSubtitle = "Dungeon Farming Made Easy",
   ConfigurationSaving = {
      Enabled = true,
      FolderName = "DungeonLairSave",
      FileName = "dungeon-lair-settings.json"
   },
   KeySystem = false, -- Set to true if you want to use a key system
})

-- Services
local Players = game:GetService("Players")
local player = Players.LocalPlayer

-- Global Variables for Dungeon Farming
_G.Dungeon = "Level 15+" -- Default dungeon
_G.AutoDungeon = false -- Auto farm dungeon toggle
_G.AutoClearMinion = false -- Clear dungeon minions toggle

-- Dungeon List
local DungeonList = {
   "Level 15+", "Level 40+", "Level 80+", "Level 100+", "Level 200+"
}

-- Dungeon Positions
local dungeonPositions = {
   ["Level 15+"] = CFrame.new(-722.297668, 67.0181732, -940.724182),
   ["Level 40+"] = CFrame.new(-726.523804, 67.0282059, -386.987396),
   ["Level 80+"] = CFrame.new(-323.425873, 66.9731827, -133.544128),
   ["Level 100+"] = CFrame.new(-90.7289734, 66.9272995, -888.08728),
   ["Level 200+"] = CFrame.new(28081.9238, 47.2731171, -234.488235)
}

-- Create Dungeon Tab
local DungeonTab = Window:CreateTab("Dungeon Farming", "lucide-skull") -- Icon is optional

-- Add Dungeon Selection Dropdown
DungeonTab:CreateDropdown({
   Name = "Select Dungeon",
   Options = DungeonList,
   CurrentOption = _G.Dungeon,
   MultipleOptions = false,
   Callback = function(selected)
      _G.Dungeon = selected
   end,
})

-- Add Auto Farm Dungeon Toggle
DungeonTab:CreateToggle({
   Name = "Auto Farm Dungeon",
   CurrentValue = _G.AutoDungeon,
   Callback = function(Value)
      _G.AutoDungeon = Value
   end,
})

-- Add Clear Dungeon Minions Toggle
DungeonTab:CreateToggle({
   Name = "Clear Dungeon Minions",
   CurrentValue = _G.AutoClearMinion,
   Callback = function(Value)
      _G.AutoClearMinion = Value
   end,
})

-- Add Teleport to Dungeon Button
DungeonTab:CreateButton({
   Name = "Teleport to Dungeon",
   Callback = function()
      local targetCFrame = dungeonPositions[_G.Dungeon]
      if targetCFrame then
         player.Character.HumanoidRootPart.CFrame = targetCFrame
         Rayfield:Notify({
            Title = "Teleport",
            Content = "Teleported to " .. _G.Dungeon,
            Duration = 5,
            Image = "rbxassetid://103208753702759",
         })
      else
         Rayfield:Notify({
            Title = "Error",
            Content = "Invalid dungeon selected!",
            Duration = 5,
            Image = "rbxassetid://103208753702759",
         })
      end
   end,
})

-- Dungeon Farming Loop
task.spawn(function()
   while task.wait() do
      if _G.AutoDungeon then
         local targetCFrame = dungeonPositions[_G.Dungeon]
         if targetCFrame then
            player.Character.HumanoidRootPart.CFrame = targetCFrame
         end

         -- Clear dungeon minions if enabled
         if _G.AutoClearMinion then
            for _, mob in pairs(workspace.Living:GetChildren()) do
               if mob:IsA("Model") and mob:FindFirstChild("Humanoid") and mob.Humanoid.Health > 0 then
                  mob.Humanoid.Health = 0
               end
            end
         end
      end
   end
end)

-- Notify Script Loaded
Rayfield:Notify({
   Title = "Script Loaded",
   Content = "Dungeon Lair Hub has been successfully loaded!",
   Duration = 5,
   Image = "rbxassetid://103208753702759",
})

warn("Dungeon Lair Hub loaded successfully!")
